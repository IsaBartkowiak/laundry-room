{"version":3,"sources":["./client/environments/environment.ts","./client/src/$_lazy_route_resource lazy","./client/src/app/app-routing.module.ts","./client/src/app/app.component.css","./client/src/app/app.component.html","./client/src/app/app.component.ts","./client/src/app/app.module.ts","./client/src/app/home/home.component.html","./client/src/app/home/home.component.ts","./client/src/app/index.ts","./client/src/app/machine.service.ts","./client/src/app/machine/machine.component.html","./client/src/app/machine/machine.component.ts","./client/src/app/utils/timer.html","./client/src/app/utils/timer.ts","./client/src/main.ts","./client/src/polyfills.ts","ws (ignored)"],"names":[],"mappings":";;;;;;AAAA;AAAA,mFAAmF;AACnF,8FAA8F;AAC9F,yEAAyE;AACzE,+EAA+E;AAExE,IAAM,WAAW,GAAG;IACzB,UAAU,EAAE,KAAK;CAClB,CAAC;;;;;;;;ACPF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA,4CAA4C,WAAW;AACvD;AACA;AACA,mF;;;;;;;;;;;;;;;;;;ACVyC;AACc;AAED;AAEtD,IAAM,MAAM,GAAW;IAEtB,EAAE,IAAI,EAAE,EAAE,EAAE,SAAS,EAAE,2EAAa,EAAG;IACtC;QACE,IAAI,EAAE,EAAE;QACR,UAAU,EAAE,GAAG;QACf,SAAS,EAAE,MAAM;KAClB;CAEF,CAAC;AAOF;IAAA;IAAmC,CAAC;IAAvB,mBAAmB;QAL/B,uEAAQ,CAAC;YACR,OAAO,EAAE,CAAC,qEAAY,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;YACvC,OAAO,EAAE,CAAC,qEAAY,CAAC;YACvB,SAAS,EAAE,EAAE;SACd,CAAC;OACW,mBAAmB,CAAI;IAAD,0BAAC;CAAA;AAAJ;;;;;;;;ACrBhC,mB;;;;;;;ACAA,mD;;;;;;;;;;;;;;;;ACA0C;AAO1C;IALA;QAME,UAAK,GAAG,cAAc,CAAC;IACzB,CAAC;IAFY,YAAY;QALxB,wEAAS,CAAC;YACT,QAAQ,EAAE,UAAU;;;SAGrB,CAAC;OACW,YAAY,CAExB;IAAD,mBAAC;CAAA;AAFwB;;;;;;;;;;;;;;;;;;;;;;;;;;;ACPiC;AACjB;AACI;AACF;AAC8B;AACrC;AAGW;AAEI;AAGQ;AAEI;AACT;AAkBtD;IAAA;IAAyB,CAAC;IAAb,SAAS;QAhBrB,uEAAQ,CAAC;YACR,YAAY,EAAE;gBACZ,oEAAY;gBACZ,oFAAgB;gBAChB,4EAAa;gBACb,2DAAK;aACN;YACD,OAAO,EAAE;gBACP,gFAAa;gBACb,mEAAW;gBACX,iEAAU;gBACV,gFAAmB;aACpB;YACD,SAAS,EAAE,CAAC,wEAAc,EAAE,EAAC,OAAO,EAAE,yEAAgB,EAAE,QAAQ,EAAE,6EAAoB,EAAC,CAAC;YACxF,SAAS,EAAE,CAAC,oEAAY,CAAC;SAC1B,CAAC;OACW,SAAS,CAAI;IAAD,gBAAC;CAAA;AAAJ;;;;;;;;AClCtB,qM;;;;;;;;;;;;;;;;;;;ACA0C;AAM1C;IAEE;IAAgB,CAAC;IAFN,aAAa;QAJzB,wEAAS,CAAC;YACT,QAAQ,EAAE,UAAU;;SAErB,CAAC;;OACW,aAAa,CAIzB;IAAD,oBAAC;CAAA;AAJyB;;;;;;;;;;;;;ACNM;AACH;;;;;;;;;;;;;;;;;;;;;;ACDc;AACN;AACN;AAG/B;IAGE,wBAAoB,IAAU;QAAV,SAAI,GAAJ,IAAI,CAAM;QAFtB,QAAG,GAAG,oCAAoC,CAAC;IAInD,CAAC;IAED,mBAAmB;IACnB,oCAAW,GAAX;QACE,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,GAAC,eAAe,CAAC;aAC3C,GAAG,CAAC,aAAG,IAAI,UAAG,CAAC,IAAI,EAAE,EAAV,CAAU,CAAC,CAAC;IAC5B,CAAC;IAED,qBAAqB;IACrB,uCAAc,GAAd,UAAe,QAAQ;QACrB,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,GAAC,eAAe,EAAE,QAAQ,CAAC;aACrD,GAAG,CAAC,aAAG,IAAI,UAAG,CAAC,IAAI,EAAE,EAAV,CAAU,CAAC,CAAC;IAC5B,CAAC;IAjBU,cAAc;QAD1B,yEAAU,EAAE;yCAIe,2DAAI;OAHnB,cAAc,CAmB1B;IAAD,qBAAC;CAAA;AAnB0B;;;;;;;;ACL3B,oFAAoF,kFAAkF,aAAa,qIAAqI,cAAc,sMAAsM,oBAAoB,oIAAoI,kBAAkB,s/B;;;;;;;;;;;;;;;;;;;;;;ACAznB;AAET;AACb;AAOvC;IAUE,0BAAoB,cAA6B;QAAjD,iBAKC;QALmB,mBAAc,GAAd,cAAc,CAAe;QARjD,aAAQ,GAAG,EAAE,CAAC;QACd,aAAQ,GAAG,EAAE,CAAC;QACd,UAAK,GAAG,IAAI,CAAC;QACb,WAAM,GAAG,EAAE,CAAC;QAMV,IAAI,CAAC,MAAM,GAAG,8CAAE,EAAE,CAAC;QACnB,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,eAAe,EAAE,kBAAQ;YACtC,KAAI,CAAC,OAAO,EAAE,CAAC;QACjB,CAAC,CAAC,CAAC;IACL,CAAC;IAED,mCAAQ,GAAR,UAAS,CAAC;QAAV,iBAYC;QAXC,IAAI,MAAM,GAAG,IAAI,CAAC,KAAK,GAAG,EAAE,GAAG,IAAI,GAAG,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE,CAAC;QAC3D,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,QAAQ,GAAG,MAAM,CAAC;QACnC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,MAAM,GAAG,KAAK,CAAC;QAChC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,IAAI,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC;QACnC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,UAAU,GAAG,SAAS,CAAC;QACxC,iBAAiB;QACjB,IAAI,CAAC,cAAc,CAAC,cAAc,CAAC,IAAI,CAAC,QAAQ,CAAC;aAChD,SAAS,CAAC,kBAAQ;YACjB,KAAI,CAAC,MAAM,CAAC,IAAI,CAAC,eAAe,EAAE,KAAI,CAAC,QAAQ,CAAC,CAAC;YACjD,KAAI,CAAC,MAAM,CAAC,KAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,KAAI,CAAC,MAAM,CAAC,KAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;QACvE,CAAC,CAAC,CAAC;IACL,CAAC;IAED,8CAAmB,GAAnB,UAAoB,CAAC;QAArB,iBAUC;QATC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,QAAQ,GAAG,IAAI,CAAC;QACjC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,MAAM,GAAG,IAAI,CAAC;QAC/B,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,IAAI,GAAG,IAAI,CAAC;QAC7B,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,UAAU,GAAG,YAAY,CAAC;QAC3C,IAAI,CAAC,cAAc,CAAC,cAAc,CAAC,IAAI,CAAC,QAAQ,CAAC;aAChD,SAAS,CAAC,kBAAQ;YACjB,KAAI,CAAC,MAAM,CAAC,IAAI,CAAC,eAAe,EAAE,KAAI,CAAC,QAAQ,CAAC,CAAC;YACjD,KAAI,CAAC,MAAM,CAAC,KAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC;QAC3C,CAAC,CAAC,CAAC;IACL,CAAC;IAEM,kCAAO,GAAd;QAAA,iBAKC;QAJC,IAAI,CAAC,cAAc,CAAC,WAAW,EAAE;aAChC,SAAS,CAAC,kBAAQ;YACjB,KAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;QAC3B,CAAC,CAAC,CAAC;IACL,CAAC;IAED,yCAAc,GAAd,UAAe,QAAQ;QACrB,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,QAAQ,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC,GAAC,IAAI,CAAC,CAAC;IAChD,CAAC;IAED,mCAAQ,GAAR;QACE,IAAI,CAAC,OAAO,EAAE,CAAC;IACjB,CAAC;IAED,sCAAW,GAAX;QACE,IAAI,CAAC,UAAU,CAAC,WAAW,EAAE,CAAC;IAChC,CAAC;IA5DU,gBAAgB;QAJ5B,wEAAS,CAAC;YACT,QAAQ,EAAE,aAAa;;SAExB,CAAC;yCAWmC,wEAAc;OAVtC,gBAAgB,CA6D5B;IAAD,uBAAC;CAAA;AA7D4B;;;;;;;;ACV7B,kEAAkE,SAAS,GAAG,SAAS,a;;;;;;;;;;;;;;;;;;;ACAhB;AAQvE;IAeI;QAAA,iBAEC;QAdQ,kBAAa,GAAW,EAAE,CAAC;QAE1B,eAAU,GAAsB,IAAI,mEAAY,EAAE,CAAC;QAWzD,IAAI,CAAC,QAAQ,GAAG,WAAW,CAAC,cAAM,YAAI,CAAC,cAAc,EAAE,EAArB,CAAqB,EAAE,CAAC,CAAC,CAAC;IAChE,CAAC;IAED,8BAAc,GAAd;QAEI,IAAI,CAAC,GAAG,GAAG,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE,CAAC;QAEhC,EAAE,CAAC,CAAC,OAAO,IAAI,CAAC,KAAK,KAAK,QAAQ,CAAC,CAAC,CAAC;YACjC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;QACvC,CAAC;QAED,EAAE,EAAC,IAAI,CAAC,GAAG,IAAI,IAAI,CAAC,GAAG,CAAC,EAAC;YACrB,aAAa,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;YAC7B,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YAC3B,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;QACzB,CAAC;QAAA,IAAI,EAAC;YACF,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;QACxB,CAAC;QAED,IAAI,cAAc,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,GAAG,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE,CAAC,CAAC;QAC/D,IAAI,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;QAGjD,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,cAAc,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;QACxE,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,cAAc,GAAG,KAAK,CAAC,CAAC,CAAC;IACtE,CAAC;IAED,yBAAS,GAAT,UAAU,MAAM;QACZ,EAAE,EAAC,MAAM,IAAI,EAAE,CAAC,EAAC;YACd,MAAM,CAAC,MAAM,CAAC;QACjB,CAAC;QACD,MAAM,CAAC,CAAC,GAAG,GAAG,MAAM,CAAC,CAAC;IAC1B,CAAC;IA/CQ;QAAR,oEAAK,EAAE;;wCAAY;IACX;QAAR,oEAAK,EAAE;;sCAAU;IACT;QAAR,oEAAK,EAAE;;gDAA4B;IAC3B;QAAR,oEAAK,EAAE;;uCAAW;IACT;QAAT,qEAAM,EAAE;kCAAa,mEAAY;6CAA2B;IALpD,KAAK;QANjB,wEAAS,CAAC;YACP,QAAQ,EAAE,OAAO;;SAEpB,CAAC;;OAGW,KAAK,CAiDjB;IAAD,YAAC;CAAA;AAjDiB;;;;;;;;;;;;;;;ACRM;AAEmD;AAC5B;AACW;AACvB;AAEnC,EAAE,CAAC,CAAC,8EAAW,CAAC,UAAU,CAAC,CAAC,CAAC;IAC3B,+EAAc,EAAE,CAAC;AACnB,CAAC;AAED,yGAAsB,EAAE,CAAC,eAAe,CAAC,wDAAS,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACXpD;AAAA;AAAA,wEAAwE;AACxE,8DAA8D;AAClC;AACA;AACE;AACC;AACE;AACL;AACF;AACE;AACF;AACC;AACC;AACH;AACA;AACI;AAEA;AACF;AAEc;;;;;;;;;;;;;;;;ACpBzC,e","file":"main.bundle.js","sourcesContent":["// The file contents for the current environment will overwrite these during build.\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\n// `ng build --env=prod` then `environment.prod.ts` will be used instead.\n// The list of which env maps to which file can be found in `angular-cli.json`.\n\nexport const environment = {\n  production: false\n};\n\n\n\n// WEBPACK FOOTER //\n// ./client/environments/environment.ts","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./client/src/$$_lazy_route_resource lazy recursive\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./client/src/$$_lazy_route_resource lazy\n// module id = ./client/src/$$_lazy_route_resource lazy recursive\n// module chunks = main","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { HomeComponent } from './home/home.component';\n\nconst routes: Routes = [\n\n\t{ path: '', component: HomeComponent  },\n  {\n    path: '',\n    redirectTo: '/',\n    pathMatch: 'full'\n  },\t\n\n];\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes)],\n  exports: [RouterModule],\n  providers: []\n})\nexport class ClientRoutingModule { }\n\n\n// WEBPACK FOOTER //\n// ./client/src/app/app-routing.module.ts","module.exports = \"\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./client/src/app/app.component.css\n// module id = ./client/src/app/app.component.css\n// module chunks = main","module.exports = \"<router-outlet></router-outlet>`\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./client/src/app/app.component.html\n// module id = ./client/src/app/app.component.html\n// module chunks = main","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n  title = 'app works 2!';\n}\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/app/app.component.ts","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { HttpModule } from '@angular/http';\nimport { LocationStrategy, HashLocationStrategy } from '@angular/common';\nimport {Timer} from \"./utils/timer\";\n\n\nimport { AppComponent } from './app.component';\n\nimport { MachineService } from './machine.service';\n\n\nimport { ClientRoutingModule } from './app-routing.module';\n\nimport { MachineComponent } from './machine/machine.component';\nimport { HomeComponent } from './home/home.component';\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    MachineComponent,\n    HomeComponent,\n    Timer\n  ],\n  imports: [\n    BrowserModule,\n    FormsModule,\n    HttpModule,\n    ClientRoutingModule    \n  ],\n  providers: [MachineService, {provide: LocationStrategy, useClass: HashLocationStrategy}],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/app/app.module.ts","module.exports = \"<h1 class=\\\"massena-title\\\">Laverie Massena</h1>\\n<h2 class=\\\"massena-subtitle\\\">Gestion des disponibilités</h2>\\n\\n<div class=\\\"massena\\\">\\n\\t<app-machine></app-machine>\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./client/src/app/home/home.component.html\n// module id = ./client/src/app/home/home.component.html\n// module chunks = main","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-home',\n  templateUrl: './home.component.html'\n})\nexport class HomeComponent {\n\n  constructor() { }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/app/home/home.component.ts","export * from './app.component';\nexport * from './app.module';\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/app/index.ts","import { Injectable } from '@angular/core';\nimport { Http } from '@angular/http';\nimport 'rxjs/add/operator/map';\n\n@Injectable()\nexport class MachineService {\n  private url = 'https://massena-wash.herokuapp.com';\n\n  constructor(private http: Http) {\n\n  }\n\n  // Get all machines\n  getMachines(){\n    return this.http.get(this.url+'/api/machines')\n      .map(res => res.json());\n  }\n\n  //update all machines\n  updateMachines(machines){\n    return this.http.put(this.url+'/api/machines', machines)\n      .map(res => res.json());\n  }\n\n}\n\n\n// WEBPACK FOOTER //\n// ./client/src/app/machine.service.ts","module.exports = \"\\n<div class=\\\"massena-machine\\\" *ngFor=\\\"let machine of machines; let i='index'\\\">\\n\\t<div class=\\\"massena-machine-bg\\\">\\n\\t\\t<img src=\\\"/assets/{{machine.img}}\\\" alt=\\\"\\\" class=\\\"massena-machine-img\\\">\\n\\t\\t<div class=\\\"massena-machine-content\\\">\\n\\t\\t\\t<h2 class=\\\"massena-machine-title\\\">{{machine.name}}</h2>\\n\\t\\t\\t<div class=\\\"massena-machine-status\\\" [ngClass]=\\\"machine.status\\\">\\n\\t\\t\\t\\t<span class=\\\"massena-machine-status-bullet\\\"></span>\\n\\t\\t\\t\\t<span class=\\\"massena-machine-status-txt\\\">{{machine.statusText}}</span>\\n\\t\\t\\t\\t<timer *ngIf=\\\"machine.status == 'nok'\\\" (timerEnded)=\\\"setMachineAvailable(i)\\\" units=\\\"Minutes|Seconds\\\" end=\\\"{{machine.deadline}}\\\"></timer>\\n\\t\\t\\t</div>\\n\\t\\t\\t<span class=\\\"massena-machine-add\\\" \\n\\t\\t\\t[(click)]=\\\"modals[machine.id] = !modals[machine.id]\\\" *ngIf=\\\"machine.status == 'ok'\\\">\\n\\t\\t\\t\\tLancer une machine\\t\\t\\n\\t\\t\\t</span>\\n\\t\\t</div>\\n\\t\\t<div class=\\\"massena-machine-modal\\\" *ngIf=\\\"machine.status == 'ok' && modals[machine.id]\\\">\\n\\t\\t\\t<form class=\\\"massena-machine-modal-content\\\" (ngSubmit)=\\\"onSubmit(i)\\\">\\n\\t\\t\\t\\t<h3 class=\\\"massena-machine-modal-title\\\">Durée du cycle</h3>\\n\\t\\t\\t\\t<div class=\\\"massena-machine-modal-control\\\">\\n\\t\\t\\t\\t\\t<span class=\\\"massena-machine-modal-min\\\">Min: </span>\\n\\t\\t\\t\\t\\t<input required  [(ngModel)]=\\\"cycle\\\" name=\\\"min\\\" class=\\\"massena-machine-modal-input\\\" type=\\\"number\\\" min=\\\"1\\\" max=\\\"120\\\">\\n\\t\\t\\t\\t\\t<input type=\\\"submit\\\" class=\\\"massena-machine-modal-submit\\\" value=\\\"valider\\\" />\\n\\t\\t\\t\\t\\t<span (click)=\\\"modals[machine.id] = !modals[machine.id]\\\" class=\\\"massena-machine-modal-close\\\">annuler</span>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</form>\\n\\t\\t</div>\\n\\t</div>\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./client/src/app/machine/machine.component.html\n// module id = ./client/src/app/machine/machine.component.html\n// module chunks = main","import { Component, OnInit, OnDestroy } from '@angular/core';\n\nimport { MachineService } from '../machine.service';\nimport * as io from 'socket.io-client';\n\n\n@Component({\n  selector: 'app-machine',\n  templateUrl: './machine.component.html'\n})\nexport class MachineComponent implements OnInit, OnDestroy {\n\n  messages = [];\n  machines = [];\n  cycle = null;\n  modals = [];\n  connection;\n  message;\n  private socket: SocketIOClient.Socket;\n\n  constructor(private MachineService:MachineService) {\n    this.socket = io();\n    this.socket.on('machineUpdate', machines => {\n      this.getData();\n    });\n  }\n  \n  onSubmit(i){\n    let toTime = this.cycle * 60 * 1000 + new Date().getTime();\n    this.machines[i].deadline = toTime;\n    this.machines[i].status = \"nok\";\n    this.machines[i].time = Date.now();\n    this.machines[i].statusText = \"Utilisé\";\n    //update machines\n    this.MachineService.updateMachines(this.machines)\n    .subscribe(machines => {\n      this.socket.emit('machineUpdate', this.machines);\n      this.modals[this.machines[i].id] = !this.modals[this.machines[i].id];\n    });\n  }\n  \n  setMachineAvailable(i){\n    this.machines[i].deadline = null;\n    this.machines[i].status = \"ok\";\n    this.machines[i].time = null;\n    this.machines[i].statusText = \"Disponible\";\n    this.MachineService.updateMachines(this.machines)\n    .subscribe(machines => {\n      this.socket.emit('machineUpdate', this.machines);\n      this.modals[this.machines[i].id] = false;\n    });\n  }\n  \n  public getData(){\n    this.MachineService.getMachines()\n    .subscribe(machines => {\n      this.machines = machines;\n    });\n  }\n  \n  getNowDeadline(deadline){\n    return Math.abs((deadline - Date.now())/1000);\n  }\n\n  ngOnInit() {\n    this.getData();\n  }\n  \n  ngOnDestroy() {\n    this.connection.unsubscribe();\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./client/src/app/machine/machine.component.ts","module.exports = \"<div class=\\\"timer\\\" *ngIf=\\\"running\\\">\\n\\t<p>{{minutes}}:{{seconds}}</p>\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./client/src/app/utils/timer.html\n// module id = ./client/src/app/utils/timer.html\n// module chunks = main","import { Component, Input , Output, EventEmitter} from \"@angular/core\";\n\n@Component({\n    selector: 'timer',\n    templateUrl: './timer.html'\n})\n\n\nexport class Timer {\n    @Input() units: any;\n    @Input() end: any;\n    @Input() displayString: string = '';\n    @Input() text: any;\n    @Output() timerEnded: EventEmitter<any> = new EventEmitter();\n    \n    private hours;\n    private minutes;\n    private seconds;\n    private interval;\n    private now;\n    private running;\n    \n\n    constructor() {\n        this.interval = setInterval(() => this._displayString(), 1);\n    }\n\n    _displayString() {\n        \n        this.now = new Date().getTime();\n\n        if (typeof this.units === 'string') {\n            this.units = this.units.split('|');\n        }\n        \n        if(this.end <= this.now){\n            clearInterval(this.interval);\n            this.timerEnded.emit(null);\n            this.running = false;\n        }else{\n            this.running = true;\n        }\n\n        var dateDifference = Math.abs(this.end - new Date().getTime());\n        var lastUnit = this.units[this.units.length - 1];\n        \n        \n        this.seconds = this.twoDigits(Math.floor((dateDifference / 1000) % 60));\n        this.minutes = this.twoDigits(Math.floor(dateDifference / 60000));\n    }\n    \n    twoDigits(number){\n        if(number >= 10){\n           return number; \n        }\n        return ('0' + number);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/app/utils/timer.ts","import './polyfills.ts';\n\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\nimport { enableProdMode } from '@angular/core';\nimport { environment } from '../environments/environment';\nimport { AppModule } from './app/';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/main.ts","// This file includes polyfills needed by Angular 2 and is loaded before\n// the app. You can add your own extra polyfills to this file.\nimport 'core-js/es6/symbol';\nimport 'core-js/es6/object';\nimport 'core-js/es6/function';\nimport 'core-js/es6/parse-int';\nimport 'core-js/es6/parse-float';\nimport 'core-js/es6/number';\nimport 'core-js/es6/math';\nimport 'core-js/es6/string';\nimport 'core-js/es6/date';\nimport 'core-js/es6/array';\nimport 'core-js/es6/regexp';\nimport 'core-js/es6/map';\nimport 'core-js/es6/set';\nimport 'core-js/es6/reflect';\n\nimport 'core-js/es7/reflect';\nimport 'zone.js/dist/zone';\n\nimport 'socket.io-client/dist/socket.io';\n\n\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/polyfills.ts","/* (ignored) */\n\n\n//////////////////\n// WEBPACK FOOTER\n// ws (ignored)\n// module id = 1\n// module chunks = main"],"sourceRoot":"webpack:///"}